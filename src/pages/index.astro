---
import { Image } from 'astro:assets';
import PostList from '../components/PostList.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import { getPosts } from '../utils/getPosts.astro';

const title = "Andreas Opferkuch's portfolio";
const description = 'Social links and blog, available for freelance gigs';
const permalink = Astro.site?.href ?? '';
const recentPosts = await getPosts(3)

---
<BaseLayout isRoot title={title} description={description} permalink={permalink}>
  <section style={{display: 'flex', padding: '4rem', paddingBottom: '3rem', gap: '5%'}}>
    <div style={{maxWidth: '600px'}}>
      <h1 style={{marginTop: '3rem', marginBottom: 0, marginLeft: '2rem'}}>Hi! I'm Andy,</h1>
      <p>a software engineer with ~8 years of experience. I mostly focus on frontend and related infrastructure using TypeScript and React. <a href="mailto:andy@aop.software"></a>Reach out</a> if you want to book me for your project!</p>

      <div class="social-icons">
        <a href="https://github.com/s-h-a-d-o-w" aria-label="GitHub" target="_blank" rel="noopener noreferrer">
          <svg width="30" height="30" viewBox="0 0 98 96"><path fill="currentColor" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#24292f"/></svg>
        </a>
        <a href="https://www.linkedin.com/in/andreas-opferkuch" aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
          <svg width="28" height="28" viewBox="0 0 538 537"><path fill="currentColor" d="m267.5 0.1c154-0.1 232.8 0.2 236.5 0.9 3 0.6 7.8 2.1 10.5 3.4 2.8 1.3 7.1 4.5 9.8 7 2.7 2.7 6.1 7.4 11.2 18.1v477l-3.3 6.7c-1.8 4-5.2 8.7-8 11.4-2.6 2.5-7 5.7-9.7 7-2.8 1.3-7.5 2.8-10.5 3.4-3.7 0.7-82.7 1-235.5 1-152.8 0-231.8-0.3-235.5-1-3-0.6-7.8-2.1-10.5-3.4-2.8-1.3-7.1-4.5-9.8-7-2.7-2.7-6.1-7.4-11.2-18.1v-477l3.2-6.8c1.9-3.9 5.3-8.6 8-11.3 2.7-2.5 7-5.7 9.8-7 2.7-1.3 7-2.8 9.5-3.3 2.5-0.5 105.6-0.9 235.5-1zm-158.5 75.5c-3 0.8-7.5 2.4-10 3.6-2.5 1.2-7.5 5.1-11.1 8.7-3.6 3.6-7.6 8.8-8.9 11.6-1.3 2.7-3 7.3-3.7 10-0.7 2.7-1.3 7.5-1.3 10.5 0 3 0.7 8.2 1.6 11.5 0.8 3.3 2.7 8.2 4.2 10.9 1.5 2.6 5.4 7.4 8.7 10.6 3.3 3.1 7.9 6.7 10.2 7.8 2.4 1.2 6.9 2.9 10 3.7 3.2 0.8 8.3 1.5 11.3 1.5 3 0 7.5-0.5 10-1.1 2.5-0.6 7-2.2 10-3.6 3.3-1.6 8.2-5.3 12.1-9.2 3.6-3.6 7.5-8.6 8.7-11.1 1.1-2.5 2.8-7.2 3.7-10.5 0.8-3.3 1.5-8 1.5-10.5 0-2.5-0.7-7.1-1.5-10.3-0.8-3.1-2.7-8.1-4.2-11-1.4-2.8-4.7-7.5-7.3-10.2-2.6-2.8-7.4-6.4-10.6-8.2-3.3-1.7-8.6-3.9-11.9-4.7-3.3-0.9-8.3-1.6-11-1.5-2.8 0-7.5 0.7-10.5 1.5zm232.5 120.9c-3.3 0.7-9.1 2.5-13 4.1-3.9 1.5-9.5 4.2-12.5 6-3 1.8-7.8 5.2-10.5 7.6-2.8 2.4-7.1 6.5-9.6 9.3-2.4 2.7-5.5 6.8-6.9 9l-2.5 4-1-35h-76l-0.5 254.5h80c0.5-147.2 0.6-149.7 2.7-157 1.1-4.1 3.2-9.9 4.7-12.8 1.4-2.8 4.3-7 6.3-9.3 2.1-2.2 5.6-5.1 7.8-6.4 2.2-1.3 6.7-3.1 10-4 3.9-1.1 9.4-1.7 16-1.7 6 0.1 11.6 0.6 14 1.5 2.2 0.8 5.4 2.1 7 3 1.6 0.8 4.7 3.2 6.8 5.4 2.1 2.1 5.1 6.5 6.7 9.8 1.6 3.3 3.7 9.4 4.6 13.5 1.5 6.6 1.7 16.5 2.1 82.8l0.3 75.2h79c-0.6-145.8-1-171.9-1.9-178-0.7-4.7-2.6-13.7-4.2-20-1.7-6.7-4.8-15.3-7.3-20.5-2.5-4.9-6.9-11.8-9.8-15.3-2.9-3.4-7.8-8.1-10.8-10.3-3-2.3-7.7-5.3-10.5-6.7-2.7-1.3-8.1-3.6-12-4.9-3.9-1.3-11.1-3-16-3.8-5.1-0.9-15.1-1.5-23-1.4-7.7 0-16.7 0.6-20 1.4zm-261.5 259.5h80l-0.5-254.5-79.5-0.5z"/></svg>
        </a>
        <a href="mailto:andy@aop.software" aria-label="Contact">
          <svg width="36" height="36" viewBox="0 0 24 24"><path fill="currentColor" d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"></path></svg>
        </a>
      </div>
    </div>

    <div class="photo">
      <Image src="/assets/portrait.jpg" alt="portrait photo" width={667} height={667} style={{borderRadius:'20px', marginTop: '2rem'}} />
    </div>
  </section>
  <section>
    <h3 style={{ display: "flex", justifyContent: "center", marginBottom: '3rem', color: 'var(--text-secondary)'}}>Recent blog posts</h3>
    <PostList posts={recentPosts} />
    <h3 style={{ display: "flex", justifyContent: "center", marginTop: '3rem'}}>
    <a href="/blog">All posts</a></h3>
  </section>
</BaseLayout>

<style>
  .photo {
    width: 200px;
    flex-shrink: 0;
  }

  .social-icons {
    align-items: center;
    display: flex;
    /* gap: 1.25rem; */
    line-height: normal;
  }

  .social-icons > a {
    padding: 0.75rem;
  }

  .social-icons img {
    max-width: fit-content;
  }

</style>
